{"ast":null,"code":"var _jsxFileName = \"/home/incudy/projektkacper/HerokuFrontend/src/components/Register/Register.js\";\nimport React from 'react';\nconst uri = 'http://localhost:3001';\n/* const uri = 'https://hidden-cove-88698.herokuapp.com'; */\n\nconst initialState = {\n  email: '',\n  password: '',\n  name: '',\n  nameError: '',\n  emailError: '',\n  passwordError: ''\n};\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = (email, name, password) => {\n      let nameError = '';\n      let emailError = '';\n      let passwordError = '';\n\n      if (!email.includes('@')) {\n        emailError = 'Email must contain @';\n      }\n\n      if (email.length < 3) {\n        emailError = 'This is not a valid email';\n      }\n\n      if (emailError) {\n        this.setState({\n          emailError\n        });\n      }\n\n      if (name.length === 0) {\n        nameError = 'Name cannot be blank';\n      }\n\n      if (nameError) {\n        this.setState({\n          nameError\n        });\n      }\n\n      if (password < 6) {\n        passwordError = 'Password has to be atleast 6 characters long';\n      }\n\n      if (passwordError) {\n        this.setState({\n          passwordError\n        });\n      }\n\n      return true;\n    };\n\n    this.onNameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.onEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.onPasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.onSubmitSignIn = () => {\n      const isValid = this.validate(this.state.email, this.state.name, this.state.password);\n\n      if (isValid) {\n        fetch(uri + '/register', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: this.state.email,\n            password: this.state.password,\n            name: this.state.name\n          })\n        }).then(response => response.json()).then(user => {\n          if (user.id) {\n            this.props.loadUser(user);\n            this.props.onRouteChange('home');\n          }\n        });\n      } else {\n        this.props.onRouteChange('register');\n      }\n    };\n\n    this.state = initialState;\n  }\n\n  render() {\n    return React.createElement(\"article\", {\n      className: \"br3 ba b--black-10 mv4 w-100 w-50-m w-25-1 mw6 shadow-5 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      className: \"pa4 black-80\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"measure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      id: \"sign_up\",\n      className: \"ba b--transparent ph0 mh0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"legend\", {\n      className: \"f1 fw6 ph0 mh0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Register\"), React.createElement(\"div\", {\n      className: \"mt3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      className: \"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      onChange: this.onNameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.nameError)), React.createElement(\"div\", {\n      className: \"mt3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"email-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      className: \"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n      type: \"email\",\n      name: \"email-address\",\n      id: \"email-address\",\n      onChange: this.onEmailChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.state.emailError)), React.createElement(\"div\", {\n      className: \"mv3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      className: \"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: this.onPasswordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.passwordError))), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onClick: this.onSubmitSignIn,\n      className: \"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",\n      type: \"submit\",\n      value: \"Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/incudy/projektkacper/HerokuFrontend/src/components/Register/Register.js"],"names":["React","uri","initialState","email","password","name","nameError","emailError","passwordError","Register","Component","constructor","props","validate","includes","length","setState","onNameChange","event","target","value","onEmailChange","onPasswordChange","onSubmitSignIn","isValid","state","fetch","method","headers","body","JSON","stringify","then","response","json","user","id","loadUser","onRouteChange","render","fontSize","color"],"mappings":"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","sourcesContent":["import React from 'react';\n\t\nconst uri = 'http://localhost:3001';\n  /* const uri = 'https://hidden-cove-88698.herokuapp.com'; */\n\nconst initialState = {\n  email: '',\n      password: '',\n      name: '',\n      nameError: '',\n      emailError: '',\n      passwordError: ''\n}\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state= initialState;\n  }\n\n\n  validate = (email, name, password) => {\n    let nameError = '';\n    let emailError = '';\n    let passwordError ='';\n\n    if (!email.includes('@')) {\n      emailError = 'Email must contain @';\n    }\n    if (email.length < 3) {\n      emailError = 'This is not a valid email';\n    }\n    if (emailError) {\n      this.setState({ emailError });\n    }\n\n    if (name.length === 0) {\n      nameError = 'Name cannot be blank';\n    }\n    if (nameError) {\n      this.setState({ nameError });\n    }\n\n    if (password < 6) {\n      passwordError = 'Password has to be atleast 6 characters long';\n    }\n    if (passwordError) {\n      this.setState({ passwordError });\n    }\n\n    return true;\n  }\n\n onNameChange = (event) => {\n    this.setState({name: event.target.value})\n  }\n\n  onEmailChange = (event) => {\n    this.setState({email: event.target.value})\n  }\n\n  \n  onPasswordChange = (event) => {\n    this.setState({password: event.target.value})\n  }\n\nonSubmitSignIn = () => {\n  const isValid = this.validate(this.state.email, this.state.name, this.state.password);\n  if(isValid) {\n    fetch(uri + '/register', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n        name: this.state.name\n      })\n    })\n    .then(response => response.json())\n    .then(user => {\n      if(user.id) {\n          this.props.loadUser(user);\n         this.props.onRouteChange('home');\n       } \n    })\n  } else {\n    this.props.onRouteChange('register');\n  } \n  }\n\n\n  render() {\n\treturn(\n\t\t<article className='br3 ba b--black-10 mv4 w-100 w-50-m w-25-1 mw6 shadow-5 center'>\n\t\t <main className=\"pa4 black-80\">\n  <div className=\"measure\">\n    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n      <legend className=\"f1 fw6 ph0 mh0\">Register</legend>\n      <div className=\"mt3\">\n        <label className=\"db fw6 lh-copy f6\" htmlFor=\"name\">Name</label>\n        <input \n        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n        type=\"text\" \n        name=\"name\"  \n        id=\"name\" \n        onChange={this.onNameChange}\n        /><div style={{ fontSize: 12, color: \"red\" }}>{this.state.nameError}</div>\n      </div>\n      <div className=\"mt3\">\n        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n        <input \n        className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n        type=\"email\" \n        name=\"email-address\"  \n        id=\"email-address\" \n        onChange={this.onEmailChange}\n        /><div style={{ fontSize: 12, color: \"red\" }}>{this.state.emailError}</div>\n      </div>\n      <div className=\"mv3\">\n        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n        <input \n        className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \n        type=\"password\" \n        name=\"password\"  \n        id=\"password\" \n        onChange={this.onPasswordChange}\n        /><div style={{ fontSize: 12, color: \"red\" }}>{this.state.passwordError}</div>\n      </div>\n    </fieldset>\n    <div className=\"\">\n      <input \n      onClick={this.onSubmitSignIn}\n      className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" \n      type=\"submit\" \n      value=\"Register\" \n      />\n    </div>\n  </div>\n</main>\n</article>\n\t\t);\n}\n}\n\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}